# Base

- type: entity
  id: RMCBasePipe
  abstract: true
  suffix: RMC
  components:
  - type: Item
    size: Small
    shape: null
  - type: VentExit
  - type: RMCContainerEmptyOnDestruction
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        showEnts: False
        occludes: True
        ents: []
      rmc_vent_container: !type:Container
        showEnts: False
        occludes: True
        ents: []

- type: entity
  id: RMCBaseDisposalPipe
  abstract: true
  suffix: RMC
  placement:
    mode: SnapgridCenter
    snap:
    - Disposal
  components:
  - type: Sprite
    drawdepth: ThickPipe
    sprite: _RMC14/Structures/Piping/disposal.rsi
    visible: false
  - type: Appearance
  - type: Visibility
    layer: 1
  - type: SubFloorHide
  - type: Clickable
  - type: InteractionOutline
  - type: Physics
    bodyType: Static
    canCollide: false
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.5,0.25,0.5"
        mask:
        - SubfloorMask
  - type: Transform
    anchored: true
  - type: Anchorable
  - type: Rotatable
  - type: Pullable
  - type: CollideOnAnchor
  - type: ContainerContainer
    containers:
      DisposalTube: !type:Container
  - type: RMCMesonsNonviewable

# Vent Pipes

- type: entity
  parent: [RMCBasePipe, GasPipeHalf]
  id: RMCGasPipeHalf
  suffix: RMC, Half
  placement:
    mode: SnapgridCenter
  components:
  - type: VentCrawlable
    travelDirection: South

- type: entity
  parent: [RMCBasePipe, GasPipeStraight]
  id: RMCGasPipeStraight
  suffix: RMC, Straight
  placement:
    mode: SnapgridCenter
  components:
  - type: VentCrawlable
    travelDirection: Longitudinal

- type: entity
  parent: [RMCBasePipe, GasPipeBend]
  id: RMCGasPipeBend
  suffix: RMC, Bend
  placement:
    mode: SnapgridCenter
  components:
  - type: VentCrawlable
    travelDirection: SWBend

- type: entity
  parent: [RMCBasePipe, GasPipeTJunction]
  id: RMCGasPipeTJunction
  suffix: RMC, TJunction
  placement:
    mode: SnapgridCenter
  components:
  - type: VentCrawlable
    travelDirection: TSouth

- type: entity
  parent: [RMCBasePipe, GasPipeFourway]
  id: RMCGasPipeFourway
  suffix: RMC, Fourway
  placement:
    mode: SnapgridCenter
  components:
  - type: VentCrawlable
    travelDirection: Fourway

# Disposal Pipes

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalPipe
  name: disposal pipe segment
  description: A huge pipe segment used for constructing disposal systems.
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-s
  - type: DisposalTube
    containerId: DisposalTransit
  - type: DisposalTransit
  - type: ContainerContainer
    containers:
      DisposalTransit: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-s }
          Anchored: { state: pipe-s }

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalTrunk
  name: disposal trunk
  description: A pipe trunk used as an entry point for disposal systems.
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-t
  - type: DisposalTube
    containerId: DisposalEntry
  - type: DisposalEntry
  - type: ContainerContainer
    containers:
      DisposalEntry: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-t }
          Anchored: { state: pipe-t }
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.5,0.25,0.4"
        mask:
        - SubfloorMask

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalJunction
  name: disposal junction
  description: A three-way junction. The arrow indicates where items exit.
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-j1
    visible: true
  - type: DisposalTube
    containerId: DisposalJunction
  - type: DisposalJunction
    degrees:
    - 0
    - -90
    - 180
  - type: ContainerContainer
    containers:
      DisposalJunction: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-j1 }
          Anchored: { state: pipe-j1 }
  - type: Flippable
    mirrorEntity: RMCDisposalJunctionFlipped
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.25,0.5"
        mask:
        - SubfloorMask

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalJunctionFlipped
  name: disposal junction
  description: A three-way junction. The arrow indicates where items exit.
  suffix: RMC, Flipped
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-j2
  - type: DisposalTube
    containerId: DisposalJunction
  - type: DisposalJunction
    degrees:
    - 0
    - 90
    - 180
  - type: ContainerContainer
    containers:
      DisposalJunction: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-j2 }
          Anchored: { state: pipe-j2 }
  - type: Flippable
    mirrorEntity: RMCDisposalJunction
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.5,0.5,0.5"
        mask:
        - SubfloorMask

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalYJunction
  name: disposal y-junction
  description: A three-way junction with another exit point.
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-y
  - type: DisposalTube
    containerId: DisposalJunction
  - type: DisposalJunction
    degrees:
    - 0
    - 90
    - -90
  - type: ContainerContainer
    containers:
      DisposalJunction: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-y }
          Anchored: { state: pipe-y }
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.25"
        mask:
        - SubfloorMask

- type: entity
  parent: RMCBaseDisposalPipe
  id: RMCDisposalBend
  name: disposal bend
  description: A tube bent at a 90 degree angle.
  components:
  - type: Sprite
    layers:
    - map: [ "pipe" ]
      state: conpipe-c
  - type: DisposalTube
    containerId: DisposalBend
  - type: DisposalBend
  - type: ContainerContainer
    containers:
      DisposalBend: !type:Container
  - type: GenericVisualizer
    visuals:
      enum.DisposalTubeVisuals.VisualState:
        pipe:
          Free: { state: conpipe-c }
          Anchored: { state: pipe-c }
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.25,0.25"
        mask:
        - SubfloorMask
